@{
    ViewData["Title"] = "Edit Student";
    Layout = "_AdminLayout";
    ViewData["AdminActive"] = "students";
    var user = ViewBag.User as Learning_Management_System.Models.User;
}

@section Styles {
    <link rel="stylesheet" href="~/css/pages/add-student_admin.css">
}

    <main class="flex-grow-1 p-4 p-lg-5 overflow-y-auto">
      <div class="mx-auto" style="max-width: 42rem;"> <div class="mb-5">
          <nav aria-label="breadcrumb" class="mb-2">
            <ol class="breadcrumb fs-sm fw-medium mb-0">
              <li class="breadcrumb-item"><a asp-controller="Admin" asp-action="Dashboard">Dashboard</a></li>
              <li class="breadcrumb-item"><a asp-controller="Admin" asp-action="Students">Students</a></li>
              <li class="breadcrumb-item active" aria-current="page">Edit Student</li>
            </ol>
          </nav>
          <h1 class="h3 fw-bold">Edit Student Profile</h1>
        </div>
        
        <div class="card bg-body-tertiary border shadow-sm rounded-4">
          <div class="card-body p-4 p-sm-5">
            <form asp-action="EditUser" method="POST">
              @Html.AntiForgeryToken()
              <input type="hidden" name="userId" value="@(user?.UserId)" />
              <input type="hidden" name="role" value="Student" />
              
              @if (ViewBag.Error != null)
              {
                  <div class="alert alert-danger rounded-3 mb-4" role="alert">
                      @ViewBag.Error
                  </div>
              }
              
              <div class="row g-4 gx-md-5">
                <div class="col-12">
                  <h3 class="h5 fw-bold pb-3 border-bottom mb-4">Personal Information</h3>
                </div>
                
                <div class="col-12">
                  <label class="form-label fs-sm fw-medium" for="firstName">First Name</label>
                  <input class="form-control form-control-sm rounded-3" id="firstName" name="firstName" value="@(user?.FirstName)" type="text"/>
                </div>

                <div class="col-12">
                  <label class="form-label fs-sm fw-medium" for="lastName">Last Name</label>
                  <input class="form-control form-control-sm rounded-3" id="lastName" name="lastName" value="@(user?.LastName)" type="text"/>
                </div>
                
                <div class="col-md-6">
                  <label class="form-label fs-sm fw-medium" for="email">Email Address</label>
                  <input class="form-control form-control-sm rounded-3" id="email" name="email" value="@(user?.Email)" type="email"/>
                </div>
                
                <div class="col-md-6">
                  <label class="form-label fs-sm fw-medium" for="password">Password</label>
                  <div class="position-relative">
                    <input class="form-control form-control-sm rounded-3" id="password" name="password" placeholder="Leave blank to keep current" type="password"/>
                    <button class="btn btn-link text-secondary position-absolute end-0 top-50 translate-middle-y" type="button" style="padding-top: 0.6rem; padding-bottom: 0.6rem;">
                      <span class="material-symbols-outlined fs-6">visibility_off</span>
                    </button>
                  </div>
                </div>
                
                <div class="col-md-6">
                  <label class="form-label fs-sm fw-medium" for="isActive">Status</label>
                  <select class="form-select form-select-sm rounded-3" id="isActive" name="isActive">
                    <option value="true" selected="@(user?.IsActive == true)">Active</option>
                    <option value="false" selected="@(user?.IsActive == false)">Inactive</option>
                  </select>
                </div>
                
              </div>
              
              <div class="mt-5 pt-4 border-top d-flex justify-content-end gap-3">
                <a class="btn btn-cancel fs-sm fw-medium rounded-3 px-3 py-2" asp-action="Students" role="button">Cancel</a>
                <button class="btn btn-primary fs-sm fw-medium rounded-3 px-4 py-2" type="submit">Update Student</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </main>
