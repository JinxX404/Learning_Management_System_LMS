@{
    Layout = "_LoginLayout";
}

@section Styles {
    <link rel="stylesheet" href="~/css/pages/login.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
}



<main class="d-flex flex-grow-1 align-items-center justify-content-center px-4 py-5">
  <div class="w-100" style="max-width: 28rem;">
    <div class="login-card bg-tertiary border rounded-4 p-5">
      
      <div class="text-center mb-5">
        <h2 class="welcome-title text-body-emphasis">Welcome to ESU Portal</h2>
        <p class="subtitle text-secondary mt-2">Sign in to access your student dashboard.</p>
      </div>

      @if (ViewBag.ErrorMessage != null)
      {
        <div class="alert alert-danger" role="alert">
          @ViewBag.ErrorMessage
        </div>
      }

      <form id="loginForm" asp-action="Login" asp-controller="Auth" method="post">
        <div class="mb-3">
          <label for="email" class="visually-hidden">Email address</label>
          <input type="email" class="form-control input-field p-3" id="email" name="email" placeholder="student@esu.edu" required>
        </div>
        <div class="mb-3 position-relative">
          <label for="password" class="visually-hidden">Password</label>
          <input type="password" class="form-control input-field p-3" id="password" name="password" placeholder="Password" required>
          <span id="togglePassword"class="position-absolute"style="top: 50%; right: 15px; transform: translateY(-50%); cursor: pointer;"><i class="bi bi-eye-slash" id="eyeIcon"></i>
          </span>

        </div>

        <button type="submit" class="btn btn-primary w-100 login-btn">Sign in to ESU Portal</button>
      </form>

    </div>
  </div>
</main>
<script>
    const passwordInput = document.getElementById("password");
    const togglePassword = document.getElementById("togglePassword");
    const eyeIcon = document.getElementById("eyeIcon");

    togglePassword.addEventListener("click", function () {
        const isHidden = passwordInput.getAttribute("type") === "password";

        passwordInput.setAttribute("type", isHidden ? "text" : "password");
        eyeIcon.classList.toggle("bi-eye");
        eyeIcon.classList.toggle("bi-eye-slash");
    });
</script>